<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Issue Reports - Admin</title>
    <link rel="stylesheet" href="/admin/css/admin_pendingshops.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <style>
        .status-pending { color: #FFA500; }
        .status-resolved { color: #4CAF50; }
        .status-processing { color: #2196F3; }
        .issue-description {
            white-space: pre-wrap;
            max-height: 100px;
            overflow-y: auto;
            padding: 5px;
            background: #f5f5f5;
            border-radius: 4px;
        }
        .photo-thumbnail {
            width: 50px;
            height: 50px;
            object-fit: cover;
            margin-right: 5px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">SHOP DASHBOARD</div>
            <div class="nav-items">
                <a href="/shopowner/html/shop_dashboard.html" class="nav-item active">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a href="/shopowner/html/shopowner_addshoe.html" class="nav-item">
                    <i class="fas fa-shoe-prints"></i> Add Shoe
                </a>
                <a id="addemployeebtn" href="/shopowner/html/shopowner_addemployee.html" class="nav-item shopowner">
                    <i class="fas fa-users"></i> Add Employee
                </a>
                <a href="/shopowner/html/shop_inventory.html" class="nav-item">
                    <i class="fas fa-box"></i> Inventory
                </a>
                <a href="/shopowner/html/shop_order.html" class="nav-item">
                    <i class="fas fa-shopping-cart"></i> Orders
                </a>
                <a id="issuereport" href="/shopowner/html/issue_report.html" class="nav-item manager">
                    <i class="fas fa-chart-line"></i> Issue Report
                </a>
                <a id="analyticsbtn" href="/shopowner/html/analytics.html" class="nav-item manager">
                    <i class="fas fa-chart-line"></i> Analytics
                </a>
                <a href="/shopowner/html/shopprofile.html" class="nav-item">
                    <i class="fas fa-cog"></i> Profile Settings
                </a>
                <a id="logout_btn" class="nav-item">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
        </div>
    <!-- Notification element -->
    <div id="notification" class="notification"></div>

    <!-- Response Dialog -->
    <div id="responseDialog" class="confirmation-dialog">
        <p id="dialogMessage">Respond to this issue report</p>
        <div class="form-group">
            <label for="responseStatus">Status:</label>
            <select id="responseStatus" class="form-control">
                <option value="processing">Processing</option>
                <option value="resolved">Resolved</option>
            </select>
        </div>
        <div class="form-group">
            <textarea id="adminResponse" placeholder="Enter your response..." cols="50" rows="5" class="rejection-reason"></textarea>
        </div>
        <div class="confirmation-buttons">
            <button id="cancelResponse" class="cancel-btn"><i class="fas fa-times"></i> Cancel</button>
            <button id="confirmResponse" class="approve-btn"><i class="fas fa-check"></i> Submit Response</button>
        </div>
    </div>

    <!-- Issue Details Modal -->
    <div id="issueDetailsModal" class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalIssueTitle">Issue Report Details</h2>
                <button id="closeIssueModal" class="close-modal">&times;</button>
            </div>
            <div id="modalIssueContent" class="modal-body">
                <!-- Dynamic content will load here -->
            </div>
        </div>
    </div>

    <!-- Logout Confirmation Dialog -->
    <div id="logoutDialog" class="confirmation-dialog">
        <p>Are you sure you want to logout?</p>
        <div class="confirmation-buttons">
            <button id="cancelLogout" class="cancel-btn"><i class="fas fa-times"></i> Cancel</button>
            <button id="confirmLogout" class="reject-btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
        </div>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <!-- <nav>
        <div class="nav-header">
            <ul class="nav-links">
                <li><a href="/admin/html/admin_dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li><a href="/admin/html/admin_pendingshops.html"><i class="fas fa-clock"></i> Pending Shops</a></li>
                <li><a href="/admin/html/admin_approvedshops.html"><i class="fas fa-check-circle"></i> Approved Shops</a></li>
                <li><a href="/admin/html/admin_rejectedshops.html"><i class="fas fa-times-circle"></i> Rejected Shops</a></li>
                <li><a href="/admin/html/issue_report.html" class="active"><i class="fas fa-exclamation-triangle"></i> Issue Reports</a></li>
                <li><a href="/chatbot/html/responses.html"><i class="fas fa-robot"></i> Chatbot Manager</a></li>
                <li><a href="/admin/html/admin_login.html"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
            <div class="right-menu">
                <span class="username-display">Admin</span>
                <div class="menu-btn"><i class="fas fa-bars"></i></div>
            </div>
        </div>
    </nav> -->

    <div class="container animate-fade">
        <h1 class="animate-slide">Customer Issue Reports</h1>

        <div class="search-container animate-slide">
            <input type="text" id="issueSearch" placeholder="Search issues by order ID, user ID, or type..."
                class="search-input">
            <button id="searchBtn" class="search-btn">Search</button>
            <button id="clearSearch" class="clear-btn">Clear</button>
        </div>

        <section id="issue-reports" class="animate-fade">
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th><i class="fas fa-id-card-alt"></i> Report ID</th>
                            <th><i class="fas fa-receipt"></i> Order ID</th>
                            <th><i class="fas fa-user"></i> User ID</th>
                            <th><i class="fas fa-tag"></i> Issue Type</th>
                            <th><i class="fas fa-comment"></i> Description</th>
                            <th><i class="fas fa-images"></i> Photos</th>
                            <th><i class="fas fa-info-circle"></i> Status</th>
                            <th><i class="fas fa-calendar-alt"></i> Date Reported</th>
                            <th><i class="fas fa-cog"></i> Actions</th>
                        </tr>
                    </thead>
                    <tbody id="issueReportsTableBody">
                        <!-- Data will be inserted here -->
                    </tbody>
                </table>
            </div>
        </section>

        <div class="pagination">
            <button class="pagination-btn" id="prevBtn" disabled>Previous</button>
            <!-- Page numbers will be inserted here by JavaScript -->
            <button class="pagination-btn" id="nextBtn">Next</button>
        </div>
    </div>
</div>

    <script src="/shopowner/js/issue_report.js" type="module"></script>
</body>
</html>